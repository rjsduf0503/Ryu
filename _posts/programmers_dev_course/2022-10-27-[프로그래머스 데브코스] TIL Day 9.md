---
layout: post
author: ë¥˜ê±´ì—´
title: í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ë°ë¸Œì½”ìŠ¤ TIL Day 9
categories: programmers
tags: [cnu, programmers, dev-course, javascript, til, today-i-learned]
---

<!-- ![header](https://capsule-render.vercel.app/api?type=waving&color=auto&height=300&section=header&text=Today%20I%20Learned...&fontAlign=30&fontAlignY=30&fontSize=55&desc=Programmers%20Devcourse%203rd&descAlign=80&descAlignY=55) -->

# Day 9 - 2022/10/27
## ğŸ’¡Â ìƒˆë¡­ê²Œ ì•Œê²Œëœ ì 
### Javascriptì˜ íŠ¹ì„±
#### **this**

**ë‹¤ìŒ ì½”ë“œì˜ ì‹¤í–‰ ê²°ê³¼ëŠ” ë¬´ì—‡ì¼ê¹Œ?**

```jsx
function Dog(name, age) {
		this.name = name;
		this.age = age;
}

const dog1 = Dog('danny', 3);
console.log(dog1.name);
```

> ì¼ë°˜ì ìœ¼ë¡œ dog1ì˜ name ê°’ì¸ â€˜dannyâ€™ê°€ ì¶œë ¥ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ì§€ë§Œ, ì‹¤ì œë¡œëŠ” **ì˜¤ë¥˜ê°€ ë°œìƒ**í•œë‹¤. **ì™œì¼ê¹Œ?**
>
>> JavascriptëŠ” í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ëŠ” ì‹œì ì— thisê°€ ê²°ì •ë˜ëŠ” ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì´ë‹¤. 
>>
>> ê·¸ë ‡ê¸°ì— ìœ„ ì½”ë“œì—ì„œ Dog í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ thisëŠ” Dog ê°ì²´ê°€ ì•„ë‹Œ windowë¥¼ ê°€ë¦¬í‚¤ê²Œ ëœë‹¤. 
>>
>> Dog í•¨ìˆ˜ê°€ ë¦¬í„´í•˜ëŠ” ê°’ì´ ì—†ê¸° ë•Œë¬¸ì— dog1 ë³€ìˆ˜ì— ì €ì¥ë˜ëŠ” ê°’ì€ undefinedê°€ ëœë‹¤. 
>>
>> ë”°ë¼ì„œ undefinedì˜ nameì„ ì ‘ê·¼í•˜ê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. 
>
> thisê°€ windowë¥¼ ê°€ë¦¬í‚¨ë‹¤ê³  í–ˆëŠ”ë°, ê·¸ë ‡ë‹¤ë©´ **window.nameì´ë‚˜ window.ageë¥¼ ì°ìœ¼ë©´ ë¬´ì—‡ì´ ë‚˜ì˜¬ê¹Œ?**
>
>> â€˜dannyâ€™ì™€ 3ì´ ë‚˜ì˜¨ë‹¤. 
>>
>> ì´ëŠ” **window ê°ì²´ë¥¼ ë³€ê²½**í•˜ëŠ” ì¼ì´ë¯€ë¡œ ì˜³ì§€ ëª»í•œ ë°©ë²•ì´ë‹¤.
>
> **ê·¸ëŸ¼ ì–´ë–»ê²Œ í•´ê²°í• ê¹Œ?**
>
>> Dog í•¨ìˆ˜ì˜ ì‹¤í–‰ ì‹œ **new í‚¤ì›Œë“œ**ë¥¼ ë¶™ì´ë©´ Dog í•¨ìˆ˜ ë‚´ì˜ thisëŠ” windowê°€ ì•„ë‹Œ Dog í•¨ìˆ˜ì˜ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ê²Œ ëœë‹¤. 
>>
>> ë°˜í™˜ê°’ì„ ë„£ì–´ì£¼ì§€ ì•Šì•„ë„ dog1ì—ëŠ” Dog í•¨ìˆ˜ ì† thisê°€ ë“¤ì–´ê°€ê²Œ ëœë‹¤.

**ë˜ ë‹¤ë¥¸ ì˜ˆì‹œë¡œ ë‹¤ìŒ ì½”ë“œì˜ ì‹¤í–‰ ê²°ê³¼ëŠ” ë¬´ì—‡ì¼ê¹Œ?**

```jsx
var beatles = {
		name: 'The Beatles',
		genre: 'rock',
		members: {
				lennon: {
						memberName: 'John Lennon',
						play: function() {
								console.log(`band ${this.name} ${this.memberName} play start`);
						}
				}
		}
}

beatles.members.lennon.play();
```

> â€˜band The Beatles John Lennon play startâ€™ê°€ ì•„ë‹Œ â€˜band undefined John Lennon play startâ€™ê°€ ì¶œë ¥ëœë‹¤. **ì™œì¼ê¹Œ?**
> 
>> ìœ„ì—ì„œì™€ ë§ˆì°¬ê°€ì§€ë¡œ play í•¨ìˆ˜ ë‚´ì—ì„œ thisê°€ lennon ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ê¸° ë•Œë¬¸ì´ë‹¤. ë”°ë¼ì„œ memberNameì€ ìˆê¸° ë•Œë¬¸ì— John Lennonì´ ë‚˜ì˜¤ì§€ë§Œ, nameì€ ì—†ì–´ì„œ ì ‘ê·¼ì´ ì•ˆë˜ê¸° ë•Œë¬¸ì— undefinedê°€ ì¶œë ¥ëœë‹¤.
>
> **ê·¸ëŸ¼ ì–´ë–»ê²Œ í•´ê²°í• ê¹Œ?**
>
>> nameì— ëŒ€í•´ ì ‘ê·¼ì´ í•„ìš”í•  ë•Œ, this.nameì´ ì•„ë‹Œ **beatles.name**ìœ¼ë¡œ ì ‘ê·¼í•˜ë©´ ëœë‹¤.

**ë‹¤ìŒ ì˜ˆì‹œë¡œ ì•„ë˜ ì½”ë“œì˜ ì‹¤í–‰ ê²°ê³¼ëŠ” ë¬´ì—‡ì¼ê¹Œ?**

```jsx
function RockBand(members) {
		this.members = members;
		this.perform = function() {
				setTimeout(function() {
						this.members.forEach(function(member){
								member.perform();
						})
				}, 1000)
		}
}

var beatles = new RockBand([
		{
				name: 'John Lennon',
				perform: function() { 
						console.log('Sing: lalalalala');
				}
		}
]);

beatles.perform();
```

> â€˜Sing: lalalalalaâ€™ê°€ ë‚˜ì˜¬ ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ì§€ë§Œ, ì‹¤ì œë¡œëŠ” **ì—ëŸ¬ê°€ ë°œìƒ**í•œë‹¤. **ì™œì¼ê¹Œ?**
>
> RockBand í•¨ìˆ˜ ì† performì•ˆì˜ thisëŠ” RockBandì˜ thisì™€ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— perform ì† thisì˜ membersëŠ” ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤.

**ê·¸ëŸ¼ ì–´ë–»ê²Œ í•´ê²°í•  ìˆ˜ ìˆì„ê¹Œ?**

> **Arrow function**

```jsx
{...}
				setTimeout(() => {
						this.members.forEach(function(member){
								member.perform();
						})
				}, 1000)
{...}
```

>> Arrow function ìƒìœ„ì— ìˆëŠ” functionì˜ scopeë¥¼ ì°¾ì•„ê°€ê¸° ë•Œë¬¸ì— thisê°€ RockBandì˜ thisë¡œ ë¬¶ì´ê²Œ ëœë‹¤. Arrow functionì€ ìì²´ scopeë¥¼ ê°–ê³  ìˆì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.
>
> **bind**

```jsx
{...}
				setTimeout(() => {
						this.members.forEach(function(member){
								member.perform();
						})
				}.bind(this), 1000)
{...}
```

>> bind()ëŠ” í•¨ìˆ˜ ë‚´ì˜ thisë¥¼ íŠ¹ì •í•œ thisë¡œ ë³€ê²½ëœ í•¨ìˆ˜ë¡œ ë§Œë“œëŠ” í•¨ìˆ˜ì´ë‹¤. ì¦‰, í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ì´ë‹¤.
>>
>> ë”°ë¼ì„œ bind(this)ì˜ thisëŠ” setTimeout í•¨ìˆ˜ ë°–ì˜ this ì¦‰, RockBandì˜ thisë¥¼ ê°€ë¦¬í‚¤ê³ , bind()ë¥¼ í†µí•´ ìƒì„±ëœ ìƒˆë¡œìš´ í•¨ìˆ˜ëŠ” RockBandì˜ thisì™€ ì—°ê²°ëœë‹¤. 
>
> **í´ë¡œì € ì‚¬ìš©**

```jsx
function RockBand(members) {
		var that = this;
		this.members = members;
		this.perform = function() {
				setTimeout(function() {
						that.members.forEach(function(member){
								member.perform();
						})
				}, 1000)
		}
}
```

>> setTimeout ì† í•¨ìˆ˜ì—ì„œ í•¨ìˆ˜ ë°–ì˜ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ëŠ”ë°, ì´ë¥¼ í´ë¡œì €ë¼ê³  í•œë‹¤.
>> 
>> í´ë¡œì €ë¥¼ í†µí•´ ì ‘ê·¼í•˜ë©´ ë°–ì˜ thisë¥¼ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

<br>

---

## â—ï¸Â ëŠë‚€ì 
> ì—¬íƒœê¹Œì§€ javascriptì˜ thisì˜ ë²”ìœ„ê°€ ì–´ë””ê¹Œì§€ì¸ì§€ì— ëŒ€í•´ì„œ ìì„¸íˆ ìƒê°í•´ë³´ì§€ ì•Šì•˜ì—ˆëŠ”ë°, ê²½ìš°ì— ë”°ë¼ thisì˜ ë²”ìœ„ê°€ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆë‹¤.
>
> ì´ ê¸€ì— ì ì§„ ì•Šì•˜ì§€ë§Œ ë³€ìˆ˜ë¥¼ varë¡œ ì„¤ì •í•œ forë¬¸ì•ˆì—ì„œ setTimeoutì˜ ë¬¸ì œì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ë¸”ë¡ ë ˆë²¨ ìŠ¤ì½”í”„ì¸ letì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì€ ì•Œê³  ìˆì—ˆëŠ”ë°, IIFEë‚˜ forEachë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œë„ í•´ê²°í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ì•Œê²Œë˜ì—ˆë‹¤. 
>
> thisì— ëŒ€í•´ ë” ì°¾ì•„ë³´ê³  í™œìš©í•  ìˆ˜ ìˆë„ë¡ ì•Œì•„ë‘¬ì•¼ê² ë‹¤.
> 
> ì˜¤ëŠ˜ë„ ê³ ìƒí–ˆë‹¤ğŸ‘Š
